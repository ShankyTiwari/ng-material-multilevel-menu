!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/router"),require("rxjs"),require("@angular/animations"),require("@angular/material/core"),require("@angular/material/icon"),require("@angular/material/list")):"function"==typeof define&&define.amd?define("ng-material-multilevel-menu",["exports","@angular/common","@angular/core","@angular/router","rxjs","@angular/animations","@angular/material/core","@angular/material/icon","@angular/material/list"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-material-multilevel-menu"]={},e.ng.common,e.ng.core,e.ng.router,e.rxjs,e.ng.animations,e.ng.material.core,e.ng.material.icon,e.ng.material.list)}(this,(function(e,t,n,i,o,l,a,s,r){"use strict";var d;(d=e.ExpandCollapseStatusEnum||(e.ExpandCollapseStatusEnum={})).expand="expand",d.collapse="collapse",d.neutral="neutral";var u="amml-container",c="amml-item",p="selected-amml-item",m="active-amml-item",h="disabled-amml-item",g="amml-submenu",f="has-amml-submenu",v="#1976d2",y="transparent",C="rgba(0,0,0,.87)",I="_self",S="Invalid data for material Multilevel List Component",x=function(){function t(){this.expandCollapseStatus=new o.Subject,this.expandCollapseStatus$=this.expandCollapseStatus.asObservable(),this.selectedMenuID=new o.Subject,this.selectedMenuID$=this.selectedMenuID.asObservable()}return t.prototype.generateId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t.prototype.addRandomId=function(e){var t=this;e.forEach((function(e){e.id=t.generateId(),void 0!==e.items&&t.addRandomId(e.items)}))},t.prototype.recursiveCheckId=function(e,t){var n=this;return e.id===t||(void 0!==e.items?e.items.some((function(e){return n.recursiveCheckId(e,t)})):void 0)},t.prototype.findNodeRecursively=function(e){for(var t=e.nodes,n=e.link,i=e.id,o=0;o<t.length;o++){var l=t[o];for(var a in l)l.hasOwnProperty(a)&&(encodeURI(l.link)===n||l.id===i?this.foundLinkObject=l:void 0!==l.items&&this.findNodeRecursively({nodes:l.items,link:n||null,id:i||null}))}},t.prototype.getMatchedObjectByUrl=function(e,t){return this.findNodeRecursively({nodes:e,link:t}),this.foundLinkObject},t.prototype.getMatchedObjectById=function(e,t){return this.findNodeRecursively({nodes:e,id:t}),this.foundLinkObject},t.prototype.kvDummyComparerFn=function(){return 0},t.prototype.setMenuExapandCollpaseStatus=function(t){this.expandCollapseStatus.next(t||e.ExpandCollapseStatusEnum.neutral)},t.prototype.selectMenuByID=function(e){return this.selectedMenuID.next(e),this.foundLinkObject},t}(),b=l.trigger("SlideInOut",[l.state("in",l.style({height:"*",opacity:0})),l.transition(":leave",[l.style({height:"*",opacity:.2}),l.group([l.animate(200,l.style({height:0})),l.animate("200ms ease-out",l.style({opacity:0}))])]),l.transition(":enter",[l.style({height:"0",opacity:0}),l.group([l.animate(200,l.style({height:"*"})),l.animate("400ms ease-out",l.style({opacity:1}))])])]),L=l.trigger("ExpandedLTR",[l.state("no",l.style({transform:"rotate(-90deg)"})),l.state("yes",l.style({transform:"rotate(0deg)"})),l.transition("no => yes",l.animate(200)),l.transition("yes => no",l.animate(200))]),k=l.trigger("ExpandedRTL",[l.state("no",l.style({transform:"rotate(90deg)"})),l.state("yes",l.style({transform:"rotate(0deg)"})),l.transition("no => yes",l.animate(200)),l.transition("yes => no",l.animate(200))]),E=function(){function t(e,t){var i;this.router=e,this.multilevelMenuService=t,this.level=1,this.submenuLevel=0,this.nodeConfiguration=null,this.nodeExpandCollapseStatus=null,this.listTemplate=null,this.selectedItem=new n.EventEmitter,this.isSelected=!1,this.expanded=!1,this.firstInitializer=!1,this.selectedListClasses=((i={})[c]=!0,i[p]=!1,i[m]=!1,i)}return t.prototype.ngOnChanges=function(){this.nodeChildren=this.node&&this.node.items?this.node.items.filter((function(e){return!e.hidden})):[],this.node.hasChilden=this.hasItems(),void 0!==this.selectedNode&&null!==this.selectedNode&&this.setSelectedClass(this.multilevelMenuService.recursiveCheckId(this.node,this.selectedNode.id)),this.setExpandCollapseStatus()},t.prototype.ngOnInit=function(){this.selectedListClasses[h]=this.node.disabled,null!==this.node.faIcon&&void 0!==this.node.faIcon&&null===this.node.faIcon.match(/\bfa\w(?!-)/)&&(this.node.faIcon="fas "+this.node.faIcon),this.selectedListClasses["level-"+this.level+"-submenulevel-"+this.submenuLevel]=!0,"boolean"==typeof this.node.expanded&&(this.expanded=this.node.expanded),this.setClasses()},t.prototype.setSelectedClass=function(e){var t;e?(this.firstInitializer||(this.expanded=!0),this.isSelected=!(!this.nodeConfiguration.highlightOnSelect&&void 0!==this.selectedNode.items)):(this.isSelected=!1,this.nodeConfiguration.collapseOnSelect&&(this.node.expanded=!1,this.expanded=!1)),this.selectedListClasses=((t={})[c]=!0,t[p]=this.isSelected,t[m]=this.selectedNode.id===this.node.id,t[h]=this.node.disabled,t["level-"+this.level+"-submenulevel-"+this.submenuLevel]=!0,t),this.node.isSelected=this.isSelected,this.setClasses()},t.prototype.getPaddingAtStart=function(){return!!this.nodeConfiguration.paddingAtStart},t.prototype.getListStyle=function(){var e={background:y,color:C};return null!==this.nodeConfiguration.listBackgroundColor&&(e.background=this.nodeConfiguration.listBackgroundColor),this.isSelected?null!==this.nodeConfiguration.selectedListFontColor?e.color=this.nodeConfiguration.selectedListFontColor:e.color=v:null!==this.nodeConfiguration.fontColor&&(e.color=this.nodeConfiguration.fontColor),e},t.prototype.getListIcon=function(e){return null!==e.icon&&void 0!==e.icon&&""!==e.icon?"icon":null!==e.faIcon&&void 0!==e.faIcon&&""!==e.faIcon?"faicon":null!==e.imageIcon&&void 0!==e.imageIcon&&""!==e.imageIcon?"imageicon":null!==e.svgIcon&&void 0!==e.svgIcon&&""!==e.svgIcon?"svgicon":""},t.prototype.getSelectedSvgIcon=function(){return this.isSelected&&this.node.activeSvgIcon?this.node.activeSvgIcon:this.node.svgIcon},t.prototype.getSelectedIcon=function(){return this.isSelected&&this.node.activeIcon?this.node.activeIcon:this.node.icon},t.prototype.getSelectedFaIcon=function(){return this.isSelected&&this.node.activeFaIcon?this.node.activeFaIcon:this.node.faIcon},t.prototype.getSelectedImageIcon=function(){return this.isSelected&&this.node.activeImageIcon?this.node.activeImageIcon:this.node.imageIcon},t.prototype.getHrefTargetType=function(){return this.node.hrefTargetType?this.node.hrefTargetType:I},t.prototype.hasItems=function(){return this.nodeChildren.length>0},t.prototype.isRtlLayout=function(){return this.nodeConfiguration.rtlLayout},t.prototype.setClasses=function(){var e;this.classes=((e={})["level-"+(this.level+1)]=!0,e[g]=this.hasItems()&&this.getPaddingAtStart(),e[f]=this.hasItems(),e)},t.prototype.setExpandCollapseStatus=function(){null!==this.nodeExpandCollapseStatus&&void 0!==this.nodeExpandCollapseStatus&&(this.nodeExpandCollapseStatus===e.ExpandCollapseStatusEnum.expand&&(this.expanded=!0,this.nodeConfiguration.customTemplate&&(this.node.expanded=!0)),this.nodeExpandCollapseStatus===e.ExpandCollapseStatusEnum.collapse&&(this.expanded=!1,this.nodeConfiguration.customTemplate&&(this.node.expanded=!1)))},t.prototype.expand=function(t){t.disabled||(this.nodeExpandCollapseStatus=e.ExpandCollapseStatusEnum.neutral,this.expanded=!this.expanded,this.node.expanded=this.expanded,this.firstInitializer=!0,this.setClasses(),null!==this.nodeConfiguration.interfaceWithRoute&&this.nodeConfiguration.interfaceWithRoute&&void 0!==t.link&&t.link?this.router.navigate([t.link],t.navigationExtras):t.onSelected&&"function"==typeof t.onSelected?(t.onSelected(t),this.selectedListItem(t)):(void 0===t.items||this.nodeConfiguration.collapseOnSelect)&&this.selectedListItem(t))},t.prototype.selectedListItem=function(e){this.selectedItem.emit(e)},t}();E.decorators=[{type:n.Component,args:[{selector:"ng-list-item",template:'<div class="amml-menu-container">\n  \x3c!-- \n    Base Template rendering condition starts\n  --\x3e\n  <div *ngIf="nodeConfiguration.customTemplate && !node.hidden;else baseTemplate"\n    [ngClass]="selectedListClasses"\n    [ngStyle]="getListStyle()"\n    (click)="expand(node)"\n  >\n    <ng-container [ngTemplateOutlet]="listTemplate" [ngTemplateOutletContext]="{item: node, configuration: nodeConfiguration}"></ng-container>\n  </div>\n  \x3c!-- \n    Base Template rendering condition ends\n  --\x3e\n\n  \x3c!-- \n    Recursive Template calls begins\n  --\x3e\n  <div *ngIf="hasItems() && expanded" [@SlideInOut] [dir]="isRtlLayout() ? \'rtl\' : \'ltr\'" [ngClass]="classes">\n    <ng-list-item *ngFor="let singleNode of nodeChildren | keyvalue : multilevelMenuService.kvDummyComparerFn"\n      [nodeConfiguration]=\'nodeConfiguration\' \n      [node]="singleNode.value" \n      [level]="level + 1"\n      [submenuLevel]="singleNode.key"\n      [selectedNode]=\'selectedNode\' \n      [nodeExpandCollapseStatus]=\'nodeExpandCollapseStatus\'\n      (selectedItem)="selectedListItem($event)"\n      [listTemplate]="listTemplate"\n    >\n    </ng-list-item>\n  </div>\n</div>\n\x3c!-- \n  Recursive Template calls ends\n--\x3e\n\n\x3c!-- \n  Base Template starts from here \n--\x3e\n<ng-template #baseTemplate>\n  <mat-list-item matRipple \n    *ngIf="!node.hidden"\n    title="{{node.label}}"\n    [matRippleDisabled]="node.disabled" \n    [ngClass]="selectedListClasses"\n    [ngStyle]="getListStyle()"\n    (click)="expand(node)">\n    <ng-container *ngTemplateOutlet="linkTemplate"></ng-container>\n  </mat-list-item>\n  <mat-divider *ngIf="nodeConfiguration.useDividers"></mat-divider>\n</ng-template>\n\n<ng-template #linkTemplate>\n  \x3c!-- \n    Improvements:\n    These anchor tags can be removed & we can create a directive.\n    This directive will create a wrapper of an anchor tag with proper attributes on template `linkLabelOutlet`.\n  --\x3e\n  <a class="anml-link" *ngIf="node.externalRedirect && node.link" [href]="node.link" [target]="getHrefTargetType()">\n    <ng-container *ngTemplateOutlet="linkLabelOutlet"></ng-container>\n  </a>\n  <a class="anml-link" *ngIf="!node.externalRedirect && node.link" [routerLink]="node.link">\n    <ng-container *ngTemplateOutlet="linkLabelOutlet"></ng-container>\n  </a>\n  <a class="anml-link" *ngIf="!node.link">\n    <ng-container *ngTemplateOutlet="linkLabelOutlet"></ng-container>\n  </a>\n</ng-template>\n\n<ng-template #linkLabelOutlet>\n  <div class="anml-data" [dir]="isRtlLayout() ? \'rtl\' : \'ltr\'">\n    <div class="icon-container" [ngSwitch]="getListIcon(node)">\n      <span *ngSwitchCase="\'faicon\'" class="amml-icon amml-icon-fa">\n        <i [ngClass]="getSelectedFaIcon()"></i>\n      </span>\n      <mat-icon *ngSwitchCase="\'icon\'" class="amml-icon">\n        {{getSelectedIcon()}}\n      </mat-icon>\n      <mat-icon *ngSwitchCase="\'svgicon\'" svgIcon="{{getSelectedSvgIcon()}}" class="amml-icon amml-svg-icon">\n      </mat-icon>\n      <img matListAvatar *ngSwitchCase="\'imageicon\'" class="amml-icon" src="{{getSelectedImageIcon()}}"\n        alt="{{node.label}}" />\n    </div>\n    <span class="label">{{node.label}}</span>\n  </div>\n  <div class="amml-icon-arrow-container" *ngIf=\'hasItems()\'>\n    <mat-icon *ngIf=\'!isRtlLayout()\' [@ExpandedLTR]="expanded ? \'yes\' : \'no\'">\n      keyboard_arrow_down\n    </mat-icon>\n    <mat-icon *ngIf=\'isRtlLayout()\' [@ExpandedRTL]="expanded ? \'yes\' : \'no\'">\n      keyboard_arrow_down\n    </mat-icon>\n  </div>\n</ng-template>',animations:[b,L,k],styles:[".amml-item{cursor:pointer;position:relative}.anml-link{color:inherit;text-decoration:none;text-transform:capitalize}.anml-data,.anml-link{display:flex;justify-content:flex-start;width:100%}.anml-data{height:48px}.disabled-amml-item{opacity:.5;pointer-events:none;text-decoration:none}.icon-container{display:flex;flex-direction:column;justify-content:center}.amml-icon-fa{font-size:20px}.label{font-weight:400;line-height:48px}.amml-svg-icon{height:22px;margin-top:-12px;width:22px}.amml-icon-arrow-container{align-items:center;direction:ltr;display:flex}div[dir=ltr] .amml-icon{margin-right:16px}div[dir=ltr].amml-submenu,div[dir=rtl] .amml-icon{margin-left:16px}div[dir=rtl].amml-submenu{margin-right:16px}"]}]}],E.ctorParameters=function(){return[{type:i.Router},{type:x}]},E.propDecorators={node:[{type:n.Input}],level:[{type:n.Input}],submenuLevel:[{type:n.Input}],selectedNode:[{type:n.Input}],nodeConfiguration:[{type:n.Input}],nodeExpandCollapseStatus:[{type:n.Input}],listTemplate:[{type:n.Input}],selectedItem:[{type:n.Output}]};var M=function(){};M.decorators=[{type:n.NgModule,args:[{imports:[s.MatIconModule,r.MatListModule,a.MatRippleModule],declarations:[],exports:[s.MatIconModule,r.MatListModule,a.MatRippleModule]}]}];var T=function(){function t(t,i){this.router=t,this.multilevelMenuService=i,this.configuration=null,this.selectedItem=new n.EventEmitter,this.selectedLabel=new n.EventEmitter,this.menuIsReady=new n.EventEmitter,this.expandCollapseStatusSubscription=null,this.selectMenuByIDSubscription=null,this.currentNode=null,this.nodeConfig={paddingAtStart:!0,listBackgroundColor:null,fontColor:null,selectedListFontColor:null,interfaceWithRoute:null,collapseOnSelect:null,highlightOnSelect:!1,useDividers:!0,rtlLayout:!1,customTemplate:!1},this.isInvalidConfig=!0,this.isInvalidData=!0,this.nodeExpandCollapseStatus=e.ExpandCollapseStatusEnum.neutral}return t.prototype.ngOnChanges=function(){this.detectInvalidConfig(),this.initExpandCollapseStatus(),this.initSelectedMenuID(),this.isInvalidData||this.menuIsReady.emit(this.items)},t.prototype.ngOnInit=function(){var e=this;null!==this.configuration&&void 0!==this.configuration&&""!==this.configuration&&null!==this.configuration.interfaceWithRoute&&this.configuration.interfaceWithRoute&&(this.router.events.subscribe((function(t){t instanceof i.NavigationEnd&&e.updateNodeByURL(t.urlAfterRedirects)})),this.updateNodeByURL(this.router.url))},t.prototype.updateNodeByURL=function(e){var t=this.multilevelMenuService.getMatchedObjectByUrl(this.items,e);void 0!==t&&void 0!==t.link&&null!==t.link&&""!==t.link&&(this.currentNode=t,void 0===t.dontEmit||null===t.dontEmit||t.dontEmit||this.selectedListItem(t))},t.prototype.checkValidData=function(){void 0===this.items||Array.isArray(this.items)&&0===this.items.length?console.warn(S):(this.items=this.items.filter((function(e){return!e.hidden})),this.multilevelMenuService.addRandomId(this.items),this.isInvalidData=!1)},t.prototype.detectInvalidConfig=function(){if(null===this.configuration||void 0===this.configuration||""===this.configuration)this.isInvalidConfig=!0;else{this.isInvalidConfig=!1;var e=this.configuration;void 0!==e.paddingAtStart&&null!==e.paddingAtStart&&"boolean"==typeof e.paddingAtStart&&(this.nodeConfig.paddingAtStart=e.paddingAtStart),""!==e.listBackgroundColor&&null!==e.listBackgroundColor&&void 0!==e.listBackgroundColor&&(this.nodeConfig.listBackgroundColor=e.listBackgroundColor),""!==e.fontColor&&null!==e.fontColor&&void 0!==e.fontColor&&(this.nodeConfig.fontColor=e.fontColor),""!==e.selectedListFontColor&&null!==e.selectedListFontColor&&void 0!==e.selectedListFontColor&&(this.nodeConfig.selectedListFontColor=e.selectedListFontColor),null!==e.interfaceWithRoute&&void 0!==e.interfaceWithRoute&&"boolean"==typeof e.interfaceWithRoute&&(this.nodeConfig.interfaceWithRoute=e.interfaceWithRoute),null!==e.collapseOnSelect&&void 0!==e.collapseOnSelect&&"boolean"==typeof e.collapseOnSelect&&(this.nodeConfig.collapseOnSelect=e.collapseOnSelect),null!==e.highlightOnSelect&&void 0!==e.highlightOnSelect&&"boolean"==typeof e.highlightOnSelect&&(this.nodeConfig.highlightOnSelect=e.highlightOnSelect),null!==e.useDividers&&void 0!==e.useDividers&&"boolean"==typeof e.useDividers&&(this.nodeConfig.useDividers=e.useDividers),null!==e.rtlLayout&&void 0!==e.rtlLayout&&"boolean"==typeof e.rtlLayout&&(this.nodeConfig.rtlLayout=e.rtlLayout),null!==e.customTemplate&&void 0!==e.customTemplate&&"boolean"==typeof e.customTemplate&&(this.nodeConfig.customTemplate=e.customTemplate)}this.checkValidData()},t.prototype.initExpandCollapseStatus=function(){var t=this;this.expandCollapseStatusSubscription=this.multilevelMenuService.expandCollapseStatus$.subscribe((function(n){t.nodeExpandCollapseStatus=n||e.ExpandCollapseStatusEnum.neutral}),(function(){t.nodeExpandCollapseStatus=e.ExpandCollapseStatusEnum.neutral}))},t.prototype.initSelectedMenuID=function(){var e=this;this.selectMenuByIDSubscription=this.multilevelMenuService.selectedMenuID$.subscribe((function(t){if(t){var n=e.multilevelMenuService.getMatchedObjectById(e.items,t);void 0!==n&&(e.currentNode=n,e.selectedListItem(n))}}))},t.prototype.getClassName=function(){return this.isInvalidConfig?u:""!==this.configuration.classname&&null!==this.configuration.classname&&void 0!==this.configuration.classname?u+" "+this.configuration.classname:u},t.prototype.getGlobalStyle=function(){if(!this.isInvalidConfig){var e={background:null};return""!==this.configuration.backgroundColor&&null!==this.configuration.backgroundColor&&void 0!==this.configuration.backgroundColor&&(e.background=this.configuration.backgroundColor),e}},t.prototype.isRtlLayout=function(){return this.nodeConfig.rtlLayout},t.prototype.selectedListItem=function(t){this.nodeExpandCollapseStatus=e.ExpandCollapseStatusEnum.neutral,this.currentNode=t,void 0!==t.dontEmit&&null!==t.dontEmit&&t.dontEmit||(void 0!==t.items||t.onSelected&&"function"==typeof t.onSelected?this.selectedLabel.emit(t):this.selectedItem.emit(t))},t.prototype.ngOnDestroy=function(){this.expandCollapseStatusSubscription.unsubscribe(),this.selectMenuByIDSubscription.unsubscribe()},t}();T.decorators=[{type:n.Component,args:[{selector:"ng-material-multilevel-menu",template:'<div [ngClass]="getClassName()" [ngStyle]="getGlobalStyle()" *ngIf=\'!isInvalidData && items.length !== 0\' [dir]="isRtlLayout() ? \'rtl\' : \'ltr\'">\n  <mat-list>\n    <ng-list-item\n      *ngFor="let node of items | keyvalue: multilevelMenuService.kvDummyComparerFn"\n      [nodeConfiguration]=\'nodeConfig\'\n      [node]=\'node.value\'\n      [level]="1"\n      [submenuLevel]="node.key"\n      [selectedNode]=\'currentNode\'\n      [nodeExpandCollapseStatus]=\'nodeExpandCollapseStatus\'\n      (selectedItem)="selectedListItem($event)"\n      [listTemplate] = "listTemplate"\n    >\n    </ng-list-item>\n  </mat-list>\n</div>\n',styles:[".amml-container .mat-list-base{padding-top:unset}.amml-item{display:flex;justify-content:space-between;line-height:48px;position:relative}.anml-data{display:flex;justify-content:flex-start;text-transform:capitalize;width:100%}.amml-icon-fa{font-size:20px}.amml-icon{line-height:48px}.active{color:#1976d2}div[dir=ltr] .amml-icon{margin-right:15px}div[dir=ltr] .amml-submenu{margin-left:16px}div[dir=rtl] .amml-icon{margin-left:15px}div[dir=rtl] .amml-submenu{margin-right:16px}"]}]}],T.ctorParameters=function(){return[{type:i.Router},{type:x}]},T.propDecorators={items:[{type:n.Input}],configuration:[{type:n.Input}],selectedItem:[{type:n.Output}],selectedLabel:[{type:n.Output}],menuIsReady:[{type:n.Output}],listTemplate:[{type:n.ContentChild,args:["listTemplate",{static:!0}]}]};var O=function(){};O.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,M,i.RouterModule],declarations:[T,E],exports:[T]}]}],e.ExpandedLTR=L,e.ExpandedRTL=k,e.MultilevelMenuService=x,e.NgMaterialMultilevelMenuComponent=T,e.NgMaterialMultilevelMenuModule=O,e.SlideInOut=b,e.ɵa=M,e.ɵb=E,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-material-multilevel-menu.umd.min.js.map